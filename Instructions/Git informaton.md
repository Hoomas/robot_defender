## Введение в Git и GitHub

Git - это распределенная система контроля версий, которая помогает отслеживать изменения в коде и координировать работу нескольких разработчиков. GitHub - популярная платформа для хостинга Git-репозиториев, которая добавляет веб-интерфейс и дополнительные функции для совместной работы.

Преимущества использования Git:

- Отслеживание всех изменений в коде

- Возможность работать над разными версиями проекта одновременно

- Простое сотрудничество с другими разработчиками

- Возможность легко восстанавливать предыдущие версии файлов

## Установка и настройка

### Установка Git

**Для Windows:**

1. Скачайте установщик с официального сайта Git ([https://git-scm.com/](https://git-scm.com/))

2. Запустите установщик и следуйте инструкциям

3. При установке выберете следующие параметры
   
   1. Для default editor – Visual Studio Code

**Для macOS:**

```
brew install git
```

**Для Linux (Ubuntu):**

```
sudo apt-get install git
```

### Регистрация на GitHub

1. Перейдите на сайт GitHub ([https://github.com](https://github.com/))

2. Нажмите кнопку "Sign up"

3. Введите адрес электронной почты, пароль и имя пользователя

4. Подтвердите адрес электронной почты

### Первоначальная настройка Git

Все дейтсвия с git происхят в терминале git bash

После установки необходимо выполнить базовую настройку:

```bash
git config --global user.name "Ваше Имя" 
git config --global user.email "ваш_email@example.com"
```

 Дальше переходим в VS Code

### Настройка VS Code для работы с Git

На левой панели VS Code находим иконку Source Control

<img src="file:Instructions/images/2025-05-05-14-57-16-image.png" title="" alt="" data-align="center">

Нажимаем на кнопку Clone Repository и клонируем репозиторий https://github.com/Hoomas/robot_defender, попутно авторизируясь через Git Hub

Дальше выбираем доверять автору
![](file:Instruction\images\2025-05-05-15-01-05-image.png)

Или при помощи git bash

```bash
git clone <URL_репозитория> 
cd <имя_папки_проекта>
```

Вы готовы к работе с репозиторем. 
Дальше для работы с GIT можно использовать меню в VS Code, командную строку там-же(активировать нижнюю панель  в меню панелей).

Чтобы пользоваться Git Bash нужно добавить этот терминал в меню

<img src="file:Instructions/images/2025-05-06-20-45-53-image.png" title="" alt="" data-align="center">

<img title="" src="file:Instructions/images/2025-05-06-20-46-14-image.png" alt="" data-align="center">

## Основные термины

- **Репозиторий** - папка с вашим проектом, в которой Git отслеживает все изменения файлов

- **Локальный репозиторий** - репозиторий на вашем компьютере.

- **Удалённый репозиторий** - репозиторий на сервере (например, на GitHub), с которым работает вся vкоманда.

- **Коммит** - сохранение изменений в истории проекта с комментарием (фиксирует текущее состояние файлов).

- **Ветка (branch)** - отдельная линия разработки, позволяющая работать над задачей, не мешая основной работе.

- **Индекс (staging area)** - область, куда вы добавляете изменения перед коммитом (подготавливаете их).

- **Слияние (merge)** - объединение изменений из одной ветки в другую.

- **Клонирование (clone)** - создание копии удалённого репозитория на своём компьютере.

- **Pull request (PR)** - предложение внести ваши изменения в основную ветку проекта (используется на GitHub).

## Основные команды и рабочий процесс

Основной рабочий процесс будет выглядеть так:

Вы работаете также, как если бы работали с локальным проектом на своем компьютере, по достижении определнной точки, вам нужно обновить изменения в индекс и создать коммит.

> **Индекс** в Git (также называется staging area или область подготовленных файлов) - это промежуточная область между рабочей директорией (где вы редактируете файлы) и репозиторием (где хранятся коммиты)
> Когда вы вносите изменения в проект, они сначала находятся в рабочей директории. Чтобы подготовить определённые изменения к коммиту, вы добавляете их в индекс с помощью команды `git add`. Индекс позволяет выбрать, какие именно изменения попадут в следующий коммит, а какие останутся на потом.

> **Коммит** в Git - это фиксация изменений в репозитории, своего рода "снимок" текущего состояния проекта. Когда вы делаете коммит, Git сохраняет информацию о том, какие файлы были изменены, кто автор изменений, а также сообщение, описывающее суть этих изменений

Логика работы получается следующая 

```mermaid
graph LR;
    A(Рабоа с файлами) --> B(Внесение изменений в индекс) --> C(Написание коммита)--> D(Отправка на удаленный сервер)    
```

### Проверка статуса и истории

- Проверить текущий статус:
  
  `git status` 
  Показывает, какие файлы изменены, добавлены или подготовлены к коммиту.

- Просмотреть историю коммитов:
  
  `git log --oneline`

> Чтобы выйти из режима просмотра логов, нужно нажать "q"

### **Внесите изменения** в файлы проекта

1. **Добавьте изменения в индекс**:
   
   Для конекретного файла
   
   `git add имя_файла.расширение_файла`
   
   или добавьте все изменения:
   
   `git add .`

2. **Создайте коммит** (зафиксируйте изменения):
   
   `git commit -m "Описание внесенных изменений"`

3. **Отправьте изменения** в удаленный репозиторий:
   
   `git push`

4. **Получите изменения** от других:
   
   `git pull`

## Работа с ветками

Ветки(bracnhes)  - основная еденица структуры git репозитория. 

С их помощью осуществляется работа и оформление преоктов. В фалйе [workflow.md](worflow.md) находится структура проекта, и описана логика работы с ветвями.

### Ветки vs. Папки: в чём разница?

#### Ветки (branches):

- **Что это:**  
  Ветка - это отдельная "линия" разработки, то есть набор коммитов, которые идут своим путём от общей истории.

- **Как это работает:**  
  Ветка указывает на определённый коммит, а Git позволяет вам переключаться между ветками, чтобы видеть разные состояния файлов на разных этапах разработки.

- **Внешне:**  
  Ветки не создают отдельных папок в файловой системе. Все файлы проекта остаются в одних и тех же папках, но их содержимое меняется в зависимости от выбранной ветки.

- **Пример:**  
  Если вы работаете в ветке `feature/move`, вы видите одну версию файлов. Переключитесь на `main` - и увидите другую версию этих же файлов (если они отличались).

#### Папки (folders):

- **Что это:**  
  Папка - это физическая директория на вашем диске, где лежат файлы.

- **Как это работает:**  
  Файлы в папке всегда одни и те же, пока вы их не измените вручную.

- **Внешне:**  
  Папки видны в проводнике или терминале, их можно создавать, удалять, перемещать.

#### Основные операции с ветками

1. **Создать ветку:**  
   `git branch <имя_ветки>`

2. **Переключиться на ветку:**  
   `git checkout <имя_ветки>`

3. **Создать и сразу переключиться:**  
   `git checkout -b <имя_ветки>`

### Локальная и отслеживаемая ветки

   Сущетсвует три типа веток *локальная*, удаленная и *upestream* ветка.

> **Локальная ветка** - это ветка, существующая только на вашем компьютере в вашей копии репозитория. Вы можете её изменять, коммитить, переключаться между ветками и т.д.

> **Удалённая ветка** - это отражение ветки, которая находится на сервере (например, на GitHub). Такие ветки обычно имеют вид `origin/main`, `origin/feature-x` и т.д. Они только для чтения: вы не можете коммитить напрямую в удалённую ветку, а только получать её состояние через команды `fetch` и `pull`.

> **Ветка слежения (tracking branch) / upstream-ветка** - это локальная ветка, настроенная на автоматическую синхронизацию с определённой удалённой веткой. Такая связь позволяет удобно использовать команды `git pull` и `git push` без явного указания имени удалённой ветки

#### Upstream - ветки

   Когда вы создаёте локальную ветку из удалённой, Git автоматически настраивает слежение (upstream). Например:

```bash
git checkout -b feature-x origin/feature-x
```

   Теперь локальная ветка `feature-x` будет отслеживать удалённую `origin/feature-x`.

   Если вы находитесь на ветке, настроенной на слежение, команды `git pull` и `git push` будут по умолчанию синхронизироваться именно с этой удалённой веткой.

   Проверить, какие ветки отслеживают удалённые, можно командой:

```bash
   git branch -vv
```

   Здесь вы увидите, какая локальная ветка связана с какой удалённой

#### Основные команды

**Привязать существующую локальную ветку к удалённой (upstream):**

```bash
git branch --set-upstream-to=origin/my-feature my-feature
```

Теперь локальная ветка `my-feature` отслеживает `origin/my-feature`.

** Отключить слежение (развязать upstream):**

```bash
git branch --unset-upstream my-feature
```

**Проверить связь между ветками:**

```bash
git branch -vv
```

В выводе будет видно, какая локальная ветка отслеживает какую удалённую

**Получить изменения из удалённой ветки:**

```bash
git fetch origin git pull         # если настроен upstream, подтянет изменения из соответствующей удалённой ветки
```

`git fetch` просто обновляет ссылки на удалённые ветки, не затрагивая ваши локальные ветки.

**Отправить изменения в отслеживаемую ветку:**

```bash
git push
```

Если upstream настроен, `git push` отправит изменения в связанную удалённую ветк

#### Удаление ветки

##### Удаление локальной ветки

Переключитесь на другую ветку (например, `main` или `develop`), если вы находитесь в удаляемой ветке

```bash
git checkout main
```

Удалите ветку локально:

```bash
git branch -d имя_ветки
```

- Опция `-d` удаляет ветку только если её изменения уже были влиты (merged) в другую ветку.

- Если ветка не была полностью слита, используйте принудительное удаление:
  
  `git branch -D имя_ветки`
  
  (Будьте осторожны: это приведёт к потере всех несмердженных изменений).

##### Удаление ветки на GitHub (удалённый репозиторий)

  Для удаления ветки на сервере используйте:

  `git push origin --delete имя_ветки`

  или короткая форма:

  `git push origin :имя_ветки`

## Коммит

### Рекомендации по оформлению коммитов

1. **Структура сообщения:**
   
   - Первая строка: краткое описание (≤50 символов)
   
   - Пустая строка
   
   - Подробное описание изменений (при необходимости)

2. **Стиль написания:**
   
   - Используйте повелительное наклонение ("Add", "Fix", "Update")
   
   - Указывайте контекст изменений ("Update CI configuration")
   
   - Избегайте общих формулировок ("Minor fixes")

Пример хорошего сообщения:

```text
Implement user authentication 

- Add JWT token handling middleware 
- Configure passport-local strategy 
- Create basic login API endpoint
```

Коммит можно создать командой 

`git commit -m "commit text" `

Или волспольхзоваться интерфексом VS Code

![](file:Instructions\images\2025-05-06-20-42-00-image.png)

После нажатия на кнопку "commit", откроется файл COMMIT_EDITMSG, в котором нужно написать сам текст коммита

> На строчках комментария (строчки со знаком #), указаны основнеы сведения коммита, само сообщение следует писать на пустых строках после

### Расширенные возможности

#### Просмотр изменений перед коммитом

```bash
git diff --staged  # Сравнение индекса с последним коммитом
```

#### Интерактивное добавление изменений

```bash
git add -p  # Пошаговый выбор изменений для включения
```

#### Визуализация истории

```bash
git log --graph --oneline --decorate --all
```

## Оправка изменений на GitHub

Перед отправкой убедитесь, что у вас актуальная версия ветки:

```bash
git pull origin main
```

```bash
git pull origin <имя_вашей_ветки>
```

**Отправьте коммит(ы) на GitHub***
 Выполните команду:

```bash
git push origin main
```

или, если вы работаете в другой ветке:

```bash
git push origin <имя_вашей_ветки>
```

## Pull request

**Pull request** - это запрос на слияние вашей ветки с другой веткой (например, с `develop` или `main`) через веб-интерфейс GitHub (или другой платформы).

**Зачем это нужно:**

- Для командной работы: чтобы другие участники могли просмотреть, обсудить и проверить ваши изменения перед тем, как они попадут в основную ветку.

- Для контроля качества: изменения не попадут в проект случайно, их всегда можно проверить и обсудить.

- Для прозрачности: вся история обсуждений и правок сохраняется.

**Как создать pull request:**

1. После того, как вы отправили свою ветку на GitHub (`git push origin feature/имя_задачи`), зайдите на страницу репозитория на GitHub.

2. GitHub предложит создать pull request - нажмите кнопку **Compare & pull request**.

3. В открывшемся окне напишите краткое описание изменений и создайте PR.

4. Ожидайте проверки и одобрения от других участников команды. После одобрения PR ваши изменения сольются с основной веткой.

## Merge

**Merge** - это процесс объединения изменений из одной ветки в другую. Обычно вы сливаете свою рабочую ветку (например, `feature/имя_задачи`) в интеграционную (`develop`) или основную (`main`).

**Зачем это нужно:**  
Чтобы все изменения, над которыми вы работали в отдельной ветке, стали доступны всей команде и попали в основную версию проекта.

**Как сделать merge:**

1. Переключитесь на ветку, в которую хотите влить изменения:
   
   ```bash
   git checkout develop
   ```

2. Выполните слияние:
   
   ```bash
   git merge feature/имя_задачи
   ```

3. Если возникли конфликты - исправьте их, затем добавьте исправленные файлы:
   
   ```bash
   git add <имя_файла> git commit
   ```

4. Отправьте изменения на сервер:
   
   ```bash
   git push origin develop
   ```
   
   ## 

## Git Fetch

### Что такое `git fetch`?

**`git fetch`** - это команда, которая позволяет получить все новые коммиты, ветки и теги из удалённого репозитория, не изменяя ваши локальные файлы и ветки[ Это как обновить "слепок" состояния удалённого репозитория у себя на компьютере, чтобы быть в курсе всех изменений команды.

### Для чего используется `git fetch`?

- **Посмотреть, что изменилось на сервере, не затрагивая свою работу**  
  Вы узнаёте о новых ветках, коммитах или тегах, которые появились в удалённом репозитории, но ваши локальные файлы и ветки останутся без изменений.

- **Безопасная синхронизация**  
  Можно сначала посмотреть, что изменилось, и только потом решать, интегрировать ли эти изменения в свою работу.

- **Подготовка к слиянию**  
  После fetch вы можете сравнить свою ветку с обновлённой удалённой и решить, когда и как сливать изменения.

### Основные команды

**Получить все изменения из удалённого репозитория (обычно origin):**

```bash
git fetch origin
```

**Получить изменения только по одной ветке:**

```bash
git fetch origin имя_ветки
```

**Получить изменения со всех удалённых репозиториев:**

```bash
git fetch --all
```

**Посмотреть, какие удалённые ветки есть после fetch:**

```bash
git branch -r
```

**Сравнить свою ветку с обновлённой удалённой:**

```bash
git diff origin/main
```

**Обновить и удалить ссылки на несуществующие ветки:**

```bash
git fetch --prune
```
